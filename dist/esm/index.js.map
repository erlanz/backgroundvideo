{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AAIjD,MAAM,eAAe,GAAG,cAAc,CAAwB,iBAAiB,EAAE;IAC/E,GAAG,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,kBAAkB,EAAE,CAAC;CACnE,CAAC,CAAC;AAEH,2DAA2D;AAC3D,MAAM,sBAAsB;IAA5B;QACU,WAAM,GAAG,eAAe,CAAC;IAqCnC,CAAC;IAnCC,KAAK,CAAC,SAAS,CAAC,OAA8C;QAC5D,IAAI,EAAE,IAAI,EAAE,SAAS,GAAG,IAAI,EAAE,GAAG,OAAO,CAAC;QAEzC,gEAAgE;QAChE,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;YAC9B,MAAM,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YACtC,IAAI,GAAG,GAAG,MAAM,IAAI,IAAI,EAAE,CAAC;SAC5B;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,UAAU;QACd,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;IAClC,CAAC;IAED,KAAK,CAAC,WAAW;QACf,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,SAAS;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;IACjC,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,OAA2B;QACzC,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,aAAa;QAKjB,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;IACrC,CAAC;CACF;AAED,gCAAgC;AAChC,MAAM,uBAAuB,GAAG,IAAI,sBAAsB,EAAE,CAAC;AAE7D,oBAAoB;AACpB,cAAc,eAAe,CAAC;AAC9B,OAAO,EAAE,uBAAuB,IAAI,eAAe,EAAE,CAAC;AAEtD,kDAAkD;AAClD,eAAe,uBAAuB,CAAC","sourcesContent":["import { registerPlugin } from '@capacitor/core';\n\nimport type { BackgroundVideoPlugin } from './definitions';\n\nconst BackgroundVideo = registerPlugin<BackgroundVideoPlugin>('BackgroundVideo', {\n  web: () => import('./web').then((m) => new m.BackgroundVideoWeb()),\n});\n\n// Enhanced wrapper that handles assets path transformation\nclass BackgroundVideoWrapper implements BackgroundVideoPlugin {\n  private plugin = BackgroundVideo;\n\n  async playVideo(options: { path: string; useWindow?: boolean }): Promise<void> {\n    let { path, useWindow = true } = options;\n    \n    // Transform assets/ paths to HTTP URLs for Capacitor web server\n    if (path.startsWith('assets/')) {\n      const origin = window.location.origin;\n      path = `${origin}/${path}`;\n    }\n    \n    return this.plugin.playVideo({ path, useWindow });\n  }\n\n  async pauseVideo(): Promise<void> {\n    return this.plugin.pauseVideo();\n  }\n\n  async resumeVideo(): Promise<void> {\n    return this.plugin.resumeVideo();\n  }\n\n  async stopVideo(): Promise<void> {\n    return this.plugin.stopVideo();\n  }\n\n  async setVolume(options: { volume: number }): Promise<void> {\n    return this.plugin.setVolume(options);\n  }\n\n  async listResources(): Promise<{\n    bundlePath: string;\n    allResources: string[];\n    videoResources: string[];\n  }> {\n    return this.plugin.listResources();\n  }\n}\n\n// Create and export an instance\nconst BackgroundVideoInstance = new BackgroundVideoWrapper();\n\n// Export everything\nexport * from './definitions';\nexport { BackgroundVideoInstance as BackgroundVideo };\n\n// Also export as default for better compatibility\nexport default BackgroundVideoInstance;\n"]}