{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst BackgroundVideo = registerPlugin('BackgroundVideo', {\n    web: () => import('./web').then((m) => new m.BackgroundVideoWeb()),\n});\n// Enhanced wrapper that handles assets path transformation\nclass BackgroundVideoWrapper {\n    constructor() {\n        this.plugin = BackgroundVideo;\n    }\n    async playVideo(options) {\n        let { path } = options;\n        // Transform assets/ paths to HTTP URLs for Capacitor web server\n        if (path.startsWith('assets/')) {\n            const origin = window.location.origin;\n            path = `${origin}/${path}`;\n        }\n        return this.plugin.playVideo({ path });\n    }\n    async pauseVideo() {\n        return this.plugin.pauseVideo();\n    }\n    async resumeVideo() {\n        return this.plugin.resumeVideo();\n    }\n    async stopVideo() {\n        return this.plugin.stopVideo();\n    }\n    async setVolume(options) {\n        return this.plugin.setVolume(options);\n    }\n}\nexport * from './definitions';\nexport { BackgroundVideoWrapper as BackgroundVideo };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class BackgroundVideoWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.videoElement = null;\n    }\n    async playVideo(options) {\n        console.log('BackgroundVideo: playVideo', options);\n        let { path } = options;\n        // Transform assets/ paths to HTTP URLs for consistency with native\n        if (path.startsWith('assets/')) {\n            const origin = window.location.origin;\n            path = `${origin}/${path}`;\n            console.log('BackgroundVideo: Transformed assets path to:', path);\n        }\n        // Создаем видео элемент если его нет\n        if (!this.videoElement) {\n            this.videoElement = document.createElement('video');\n            this.videoElement.style.position = 'fixed';\n            this.videoElement.style.top = '0';\n            this.videoElement.style.left = '0';\n            this.videoElement.style.width = '100%';\n            this.videoElement.style.height = '100%';\n            this.videoElement.style.objectFit = 'cover';\n            this.videoElement.style.zIndex = '-1';\n            this.videoElement.loop = true;\n            this.videoElement.muted = true;\n            document.body.appendChild(this.videoElement);\n        }\n        this.videoElement.src = path;\n        await this.videoElement.play();\n    }\n    async pauseVideo() {\n        console.log('BackgroundVideo: pauseVideo');\n        if (this.videoElement) {\n            this.videoElement.pause();\n        }\n    }\n    async resumeVideo() {\n        console.log('BackgroundVideo: resumeVideo');\n        if (this.videoElement) {\n            await this.videoElement.play();\n        }\n    }\n    async stopVideo() {\n        console.log('BackgroundVideo: stopVideo');\n        if (this.videoElement) {\n            this.videoElement.pause();\n            this.videoElement.remove();\n            this.videoElement = null;\n        }\n    }\n    async setVolume(options) {\n        console.log('BackgroundVideo: setVolume', options);\n        if (this.videoElement) {\n            this.videoElement.volume = Math.max(0, Math.min(1, options.volume));\n        }\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}