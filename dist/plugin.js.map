{"version":3,"file":"plugin.js","sources":["esm/definitions.js","esm/index.js","esm/web.js"],"sourcesContent":["// Also export as a class for better compatibility\nexport class BackgroundVideoWrapper {\n    async playVideo(_options) {\n        throw new Error('BackgroundVideoWrapper must be instantiated');\n    }\n    async pauseVideo() {\n        throw new Error('BackgroundVideoWrapper must be instantiated');\n    }\n    async resumeVideo() {\n        throw new Error('BackgroundVideoWrapper must be instantiated');\n    }\n    async stopVideo() {\n        throw new Error('BackgroundVideoWrapper must be instantiated');\n    }\n    async setVolume(_options) {\n        throw new Error('BackgroundVideoWrapper must be instantiated');\n    }\n    async listResources() {\n        throw new Error('BackgroundVideoWrapper must be instantiated');\n    }\n}\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst BackgroundVideo = registerPlugin('BackgroundVideo', {\n    web: () => import('./web').then((m) => new m.BackgroundVideoWeb()),\n});\n// Enhanced wrapper that handles assets path transformation\nclass BackgroundVideoWrapper {\n    constructor() {\n        this.plugin = BackgroundVideo;\n    }\n    async playVideo(options) {\n        let { path } = options;\n        // Transform assets/ paths to HTTP URLs for Capacitor web server\n        if (path.startsWith('assets/')) {\n            const origin = window.location.origin;\n            path = `${origin}/${path}`;\n        }\n        return this.plugin.playVideo({ path });\n    }\n    async pauseVideo() {\n        return this.plugin.pauseVideo();\n    }\n    async resumeVideo() {\n        return this.plugin.resumeVideo();\n    }\n    async stopVideo() {\n        return this.plugin.stopVideo();\n    }\n    async setVolume(options) {\n        return this.plugin.setVolume(options);\n    }\n    async listResources() {\n        return this.plugin.listResources();\n    }\n}\n// Create and export an instance\nconst BackgroundVideoInstance = new BackgroundVideoWrapper();\n// Export everything\nexport * from './definitions';\nexport { BackgroundVideoInstance as BackgroundVideo };\n// Also export as default for better compatibility\nexport default BackgroundVideoInstance;\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class BackgroundVideoWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.videoElement = null;\n    }\n    async playVideo(options) {\n        console.log('BackgroundVideo: playVideo', options);\n        let { path } = options;\n        // Transform assets/ paths to HTTP URLs for consistency with native\n        if (path.startsWith('assets/')) {\n            const origin = window.location.origin;\n            path = `${origin}/${path}`;\n            console.log('BackgroundVideo: Transformed assets path to:', path);\n        }\n        // Создаем видео элемент если его нет\n        if (!this.videoElement) {\n            this.videoElement = document.createElement('video');\n            this.videoElement.style.position = 'fixed';\n            this.videoElement.style.top = '0';\n            this.videoElement.style.left = '0';\n            this.videoElement.style.width = '100%';\n            this.videoElement.style.height = '100%';\n            this.videoElement.style.objectFit = 'cover';\n            this.videoElement.style.zIndex = '-1';\n            this.videoElement.loop = true;\n            this.videoElement.muted = true;\n            document.body.appendChild(this.videoElement);\n        }\n        this.videoElement.src = path;\n        await this.videoElement.play();\n    }\n    async pauseVideo() {\n        console.log('BackgroundVideo: pauseVideo');\n        if (this.videoElement) {\n            this.videoElement.pause();\n        }\n    }\n    async resumeVideo() {\n        console.log('BackgroundVideo: resumeVideo');\n        if (this.videoElement) {\n            await this.videoElement.play();\n        }\n    }\n    async stopVideo() {\n        console.log('BackgroundVideo: stopVideo');\n        if (this.videoElement) {\n            this.videoElement.pause();\n            this.videoElement.remove();\n            this.videoElement = null;\n        }\n    }\n    async setVolume(options) {\n        console.log('BackgroundVideo: setVolume', options);\n        if (this.videoElement) {\n            this.videoElement.volume = Math.max(0, Math.min(1, options.volume));\n        }\n    }\n    async listResources() {\n        console.log('BackgroundVideo: listResources (web)');\n        // В веб-версии возвращаем пустые данные\n        return {\n            bundlePath: 'web',\n            allResources: [],\n            videoResources: []\n        };\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}